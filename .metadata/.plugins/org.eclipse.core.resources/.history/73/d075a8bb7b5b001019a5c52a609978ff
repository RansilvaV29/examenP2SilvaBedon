package espe.edu.ec.sensor_reading.publisher;

import org.springframework.amqp.rabbit.core.RabbitTemplate;
import org.springframework.stereotype.Component;

import espe.edu.ec.sensor_reading.config.RabbitMQConfig;
import espe.edu.ec.sensor_reading.dto.NewSensorReadingEvent;

import org.springframework.beans.factory.annotation.Autowired;

@Component
public class SensorReadingEventPublisher {

    @Autowired
    private RabbitTemplate rabbitTemplate;

    public void publish(NewSensorReadingEvent event) {
        rabbitTemplate.convertAndSend("sensor.readings.exchange", "sensor.reading.new", event);
    }
}
